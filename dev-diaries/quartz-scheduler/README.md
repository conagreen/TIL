# ⏰ 정기 결제를 위한 구독 스케줄러 구현 ⏰

약 1년 전, 정기 결제를 위한 구독 스케줄러를 개발했던 경험을 기록해보려고 한다. 이 포스트는 결제에 대한 내용 보다는 스케줄러에 초점을 맞출 것이다. (정확히는 Quartz Scheduler..)

기존에는 유럽 리전에서만 서비스를 제공했지만 마켓 확장에 따라 한국 리전에서도 서비스를 제공해야 했다. 이를 위해 한국 PG(Payment Gateway)사인 Toss Payments를 연동하는 작업을 진행하였는데
아쉽게도 Toss Payments는 정기 결제를 위한 스케줄링 기능을 제공하지 않아 해당 기능을 직접 구현해야 했다.

이 과정에서 왜 초오-간단하게 구현할 수 있는 Spring Scheduler 대신 Quartz Scheduler를 선택했는지 Quartz Scheduler가 무엇인지 그리고 스케줄링 실패에 대해 어떻게 대처하였는지 기록하려고 한다.

---
1. [왜 Quartz Scheduler를 선택했을까?](step1%20쿼츠%20스케줄러%20도입.md)
2. [Quartz로 Scheduling 해보기](step2%20쿼츠%20스케줄러%20구현.md)
3. [다양한 스케줄링 실패 케이스에 대처하기](step3%20실패%20케이스.md)
4. [번외 - 특정 PG사에 의존성이 강한 기존 결제 코드 개선](step4%20레거시%20개선.md)